<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.canvas.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.pisovtool.HelloController">

  <!-- Холст в центре — теперь точно растягивается -->
  <center>
    <Pane>
      <Canvas fx:id="canvass" />
    </Pane>
  </center>

  <!-- Нижняя панель -->
  <bottom>
    <VBox spacing="15" alignment="CENTER" prefHeight="160" minHeight="160" maxHeight="160"
          style="-fx-padding: 20; -fx-background-color: #f5f5f5; -fx-border-color: #cccccc; -fx-border-width: 1 0 0 0;">
      <HBox spacing="25" alignment="CENTER">
        <ComboBox fx:id="cmb_figures" prefWidth="200" promptText="Выберите фигуру" />
        <ComboBox fx:id="type_figures" prefWidth="180" promptText="Тип" />
        <ColorPicker fx:id="clr" prefWidth="120" />
        <Button text="Очистить холст" onAction="#onClearCanvas" prefHeight="40" />
      </HBox>

      <HBox spacing="30" alignment="CENTER">
        <ToggleButton fx:id="btnCursor" text="Перемещение" prefHeight="40" />
        <ToggleButton fx:id="btnBrush" text="Рисование" selected="true" prefHeight="40" />
        <Button text="Сохранить в JSON" onAction="#onSaveToJson" prefHeight="40" />
        <Button text="Загрузить из JSON" onAction="#onLoadFromJson" prefHeight="40" />
        <Button text="↺ Отменить" onAction="#onUndo" prefHeight="40"
                style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: red;" />
      </HBox>
    </VBox>
  </bottom>

</BorderPane>